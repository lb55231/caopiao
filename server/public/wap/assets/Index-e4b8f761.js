import{_ as B,u as q,r as a,o as D,a as R,b as m,c as r,d as i,e as c,w as k,f as o,g as p,F as L,h as T,s as C,t as g}from"./index-755e54f6.js";import{g as U,a as V,b as F}from"./lottery-115786bf.js";import{g as G}from"./image-19d603d6.js";import{T as H}from"./Tabbar-7bdceb30.js";import{_ as $,a as z}from"./2-121993fc.js";const A="/images/index/icon-hot.png",E="/app/rank.png";const M={name:"HomePage",components:{Tabbar:H},setup(){const b=q(),s=a("欢迎光临！祝您游戏愉快！"),v=a(0),n=a([]),f=a([]),d=a(null),l=a(null),y=async()=>{try{const t=await U();n.value=t.data||[]}catch(t){console.error("加载彩票列表失败:",t)}},h=async()=>{try{const t=await V();t.data&&(s.value=t.data.title,v.value=t.data.id)}catch(t){console.error("加载公告失败:",t)}},w=async()=>{try{const t=await F();f.value=t.data||[],setTimeout(()=>{e()},500)}catch(t){console.error("加载收益排行失败:",t)}},e=()=>{if(!l.value)return;const t=l.value;if(!t.querySelector("li"))return;const N=58;let u=0;d.value=setInterval(()=>{const x=t.querySelector("li");if(x){if(u+=1,u>=N){u=0;const S=x.cloneNode(!0);t.appendChild(S),t.removeChild(x)}t.style.transform=`translateY(-${u}px)`}},40)},_=()=>{v.value&&C("查看公告详情")},I=t=>{t.typeid==="k3"?b.push({path:`/game/${t.typeid}/${t.name}`,query:{title:t.title}}):C("该游戏暂未开放")};return D(()=>{y(),h(),w()}),R(()=>{d.value&&clearInterval(d.value)}),{noticeText:s,lotteryList:n,rankingList:f,scrollList:l,showNoticeDetail:_,goToGame:I,getImageUrl:G}}},P={class:"home-page"},Y={class:"home_notice"},j={class:"credit"},J={class:"lottery-grid"},K=["onClick"],O={class:"iconfont"},Q=["src"],W={class:"hot-periods"},X={style:{"font-size":"14px",color:"#333333"}},Z={class:"winning-box"},tt={class:"news-content myScroll"},ot={class:"news-scroll",ref:"scrollList"},st={style:{color:"#fe4365"}};function et(b,s,v,n,f,d){const l=m("van-swipe-item"),y=m("van-swipe"),h=m("van-notice-bar"),w=m("Tabbar");return r(),i("div",P,[c(y,{autoplay:3e3,"indicator-color":"white",class:"banner-swipe"},{default:k(()=>[c(l,null,{default:k(()=>[...s[0]||(s[0]=[o("img",{src:$,alt:"banner"},null,-1)])]),_:1}),c(l,null,{default:k(()=>[...s[1]||(s[1]=[o("img",{src:z,alt:"banner"},null,-1)])]),_:1})]),_:1}),o("div",Y,[c(h,{"left-icon":"volume-o",text:n.noticeText,onClick:n.showNoticeDetail},null,8,["text","onClick"])]),s[7]||(s[7]=o("div",{class:"my_operation_money"},null,-1)),o("div",j,[s[2]||(s[2]=o("div",{class:"hot"},[o("img",{src:A,alt:"",class:"hot-img"}),p(" 热门商家 ")],-1)),o("ul",J,[(r(!0),i(L,null,T(n.lotteryList,e=>(r(),i("li",{key:e.id,class:"home_main_list",onClick:_=>n.goToGame(e)},[o("div",null,[o("i",O,[o("img",{src:n.getImageUrl(e.logo),style:{width:"50px"}},null,8,Q)]),o("div",W,[o("span",X,g(e.title),1)])])],8,K))),128))])]),o("div",Z,[s[5]||(s[5]=o("div",{class:"news-title"},[o("img",{src:E,style:{margin:"10px",width:"16px"}}),o("h2",{class:"news-tit"},[o("strong",null,"收益专栏")])],-1)),s[6]||(s[6]=o("div",{class:"rankBg"},null,-1)),o("div",tt,[o("ul",ot,[(r(!0),i(L,null,T(n.rankingList,(e,_)=>(r(),i("li",{key:_},[p(g(e.username)+" ",1),o("b",null,g(e.k3name),1),o("em",null,[s[3]||(s[3]=p("收益 ",-1)),o("em",st,g(e.okamount),1),s[4]||(s[4]=p("元",-1))])]))),128))],512)])]),c(w)])}const ct=B(M,[["render",et],["__scopeId","data-v-c3475cfe"]]);export{ct as default};
