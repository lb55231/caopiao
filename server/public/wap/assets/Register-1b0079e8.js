import{_ as g,u as x,q as y,r as f,b as i,c as V,d as h,e as u,f as t,w as p,s as n,x as S,y as r,z as l,g as m}from"./index-755e54f6.js";const U={name:"Register",setup(){const _=x(),s=y(),d=f(!1),o=f({reccode:"",username:"",password:"",cpassword:"",tradepassword:""});return{form:o,loading:d,onSubmit:async()=>{if(!o.value.username){n("请输入账号");return}if(!o.value.password){n("请输入密码");return}if(!o.value.cpassword){n("请再次输入密码");return}if(o.value.password!==o.value.cpassword){n("两次密码输入不一致");return}if(!o.value.tradepassword){n("请输入提款密码");return}d.value=!0;try{const a=await S(o.value);(a.data.sign===!0||a.code===200)&&(n("注册成功"),a.data.token&&(s.setToken(a.data.token),s.setUserInfo({id:a.data.id,username:a.data.username})),setTimeout(()=>{_.push("/")},1e3))}catch(a){console.error("注册失败:",a)}finally{d.value=!1}}}}},T={class:"register-page"},R={class:"bank_recharge"},B={class:"bank_form_list"},C={class:"am-cf"},N={class:"bank_right_input"},I={class:"am-cf"},q={class:"bank_right_input"},z={class:"am-cf"},D={class:"bank_right_input"},E={class:"am-cf"},L={class:"bank_right_input"},M={class:"am-cf"},j={class:"bank_right_input"},A={class:"bank_pass"};function F(_,s,d,o,c,a){const v=i("van-nav-bar"),b=i("router-link"),k=i("van-button"),w=i("van-form");return V(),h("div",T,[u(v,{title:"用户注册","left-arrow":"",onClickLeft:s[0]||(s[0]=e=>_.$router.back()),fixed:"",placeholder:""}),t("div",R,[u(w,{onSubmit:o.onSubmit},{default:p(()=>[t("ul",B,[t("li",C,[s[6]||(s[6]=t("span",{class:"bank_form_left"},"邀请码",-1)),t("div",N,[r(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>o.form.reccode=e),class:"input_txt",placeholder:"请输入邀请码",maxlength:"16"},null,512),[[l,o.form.reccode]])])]),t("li",I,[s[7]||(s[7]=t("span",{class:"bank_form_left"},"账号",-1)),t("div",q,[r(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>o.form.username=e),class:"input_txt",placeholder:"请输入账号"},null,512),[[l,o.form.username]])])]),t("li",z,[s[8]||(s[8]=t("span",{class:"bank_form_left"},"设置密码",-1)),t("div",D,[r(t("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=e=>o.form.password=e),class:"input_txt",placeholder:"请输入密码"},null,512),[[l,o.form.password]])])]),t("li",E,[s[9]||(s[9]=t("span",{class:"bank_form_left"},"确认密码",-1)),t("div",L,[r(t("input",{type:"password","onUpdate:modelValue":s[4]||(s[4]=e=>o.form.cpassword=e),class:"input_txt",placeholder:"请再次输入密码"},null,512),[[l,o.form.cpassword]])])]),t("li",M,[s[10]||(s[10]=t("span",{class:"bank_form_left"},"提款密码",-1)),t("div",j,[r(t("input",{type:"password","onUpdate:modelValue":s[5]||(s[5]=e=>o.form.tradepassword=e),class:"input_txt",placeholder:"请输入提款密码"},null,512),[[l,o.form.tradepassword]])])])]),t("p",A,[u(b,{to:"/login"},{default:p(()=>[...s[11]||(s[11]=[m("已有账号? 立即登录",-1)])]),_:1})]),u(k,{class:"am-btn am-btn-danger am-radius am-btn-block","native-type":"submit",loading:o.loading},{default:p(()=>[...s[12]||(s[12]=[m(" 立即注册 ",-1)])]),_:1},8,["loading"])]),_:1},8,["onSubmit"])])])}const H=g(U,[["render",F],["__scopeId","data-v-679ae3ff"]]);export{H as default};
